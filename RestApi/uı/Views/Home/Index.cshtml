@{
    ViewData["Title"] = "Home Page";
}

<div>
    <button id="getbooks" onclick=" GetBooksMethod()">
        getbooksFromJavascipt
    </button>

    <a asp-action="Server"> getbooksFromServer</a>
    <div id="sayac">0</div>
    <div id="listbooks"></div>
</div>


@section Scripts {


    <script>

        var url = "https://localhost:44326/Books";
        var getbooksButton = document.getElementById("getbooks");
        //  getbooksButton.addEventListener("click", GetBooksMethod(), true);
        function GetBooksMethod() {
            var request = new XMLHttpRequest()
            request.open('GET', url, true)
            request.send()
            request.onload = function () {
                var data = JSON.parse(this.response)
                if (request.status >= 200 && request.status < 400) {
                    console.log(data);
                    document.getElementById("listbooks").innerHTML = JSON.stringify(data);
                    var sayac = (document.getElementById("sayac"));
                    sayac.innerHTML = parseInt(sayac.innerHTML) + 1;
                }
            }
          
        }

        $(document).ready(function () {
            //GetBooksMethod();
        });



    </script>
}


